//:: IgnoreFile(/carbon/issue/216/)
field f: Int
field g: Int

//this test is very similar to "snapshots.sil" in the Silicon test suite
method test01(x: Ref)
{
  inhale acc(x.g)&&acc(x.f)
  x.f := 1
  x.g := 1
  package acc(x.f,1/2)&&x.f==1 --* acc(x.f,1/2)&&acc(x.g)
  apply acc(x.f,1/2)&&x.f==1 --* acc(x.f,1/2)&&acc(x.g)
  assert x.f==1

  //:: UnexpectedOutput(assert.failed:assertion.false, /carbon/issue/110/)
  assert x.g==1
}
