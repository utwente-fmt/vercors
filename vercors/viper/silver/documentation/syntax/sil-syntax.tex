%
% Viper Syntax
%
\documentclass[]{article}


\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{textcomp}
\usepackage[scaled=0.9]{luximono}
\usepackage{fullpage}
\usepackage{listings}
\usepackage[svgnames]{xcolor}

\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}

\newcommand{\code}[1]{\lstinline{#1}}

\lstset{
    floatplacement={tbp},
    basicstyle=\ttfamily\mdseries\small,
    identifierstyle=,
    stringstyle=\color{DarkGreen},
    numbers=left,
    numbersep=5pt,
    inputencoding=utf8x,
    xleftmargin=8pt,
    xrightmargin=8pt,
    keywordstyle=[1]\bfseries,
    keywordstyle=[2]\bfseries,
    keywordstyle=[3]\bfseries,
    keywordstyle=[4]\bfseries,
    numberstyle=\tiny,
    stepnumber=0,
    breaklines=true,
    frame=lines,
    showstringspaces=false,
    tabsize=2,
    commentstyle=\color{gray},
    captionpos=b,
    float=float,
    language=
}
\lstdefinelanguage{bnf}
{
    morekeywords={::=},
    sensitive=false,
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    mathescape=false,escapechar=~,
    literate=%
       *{|}{{\color{DarkBlue}|\color{black}}}1
        {?}{{\color{DarkBlue}?\color{black}}}1
        {\^,*}{{\color{DarkBlue}$^{,\star}$\color{black}}}2
        {\^,+}{{\color{DarkBlue}$^{,+}$\color{black}}}2
        {+}{{\color{DarkBlue}$^{+}$\color{black}}}1
        {*}{{\color{DarkBlue}$^{\star}$\color{black}}}1
        {::=}{{\color{DarkBlue}::=\color{black} }}3
    ,
    morestring=[b]",
}



\usepackage{mathtools}
\usepackage{amssymb,amsfonts,amsmath}
\usepackage[svgnames]{xcolor}
\usepackage[colorlinks=true,pdfborder={0 0 0},citecolor=DarkGreen,linkcolor=DarkBlue,urlcolor=DarkBlue]{hyperref}

\title{Viper Syntax}
\date{\today}

\begin{document}

\maketitle


This document describes the syntax of Viper in BNF.  Note that white-space is
mostly ignored, and that the binding strength of expressions is not modeled
in the grammar for simplicity.  Also, the grammar allows for more programs
than what the Viper type-checker will accept.
The special repetition operator \lstinline[language=bnf]{^,*} is used to
denote a comma-separated list.


\lstset{language=bnf}
\lstinputlisting{sil-syntax.txt}

\end{document}
